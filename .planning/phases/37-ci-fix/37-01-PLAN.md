---
phase: 37-ci-fix
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: true
must_haves:
  truths:
    - "Remote origin/main has zero conflict markers"
    - "CI elixir-tests job passes (mix compile --warnings-as-errors + mix test)"
    - "CI sidecar-tests job passes (npm test)"
    - "Local main and remote origin/main are in sync"
  artifacts: []
  key_links:
    - from: "local main"
      to: "origin/main"
      via: "git push"
      pattern: "git push origin main"
---

<objective>
Pull remote changes, push local docs-only commits to origin/main, and verify CI remains green.

Purpose: Unblock all v1.4 phases by confirming CI passes on remote main. Research confirmed CI is already passing at commit 3d73a0c; local commits ahead contain only .planning/ markdown files with zero risk to compilation or tests.

Output: Remote main in sync with local, CI green, Phase 37 requirements (CI-01, CI-02, CI-03) verified complete.
</objective>

<execution_context>
@C:/Users/nrosq/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/nrosq/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/37-ci-fix/37-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Push local commit and verify CI green</name>
  <files></files>
  <action>
1. Verify current state before push:
   - Run `git fetch origin` to ensure we have the latest remote state
   - Run `git log --oneline origin/main..HEAD` -- note the number of commits ahead and verify actual count
   - Run `git diff --stat origin/main..HEAD` -- confirm changes are limited to docs/planning files (no source code changes)
   - Run `git diff --check origin/main` -- should show zero conflict markers
   - If conflict markers found or source code changes detected, STOP and report

2. Pull remote changes first (per user decision: "Pull then push"):
   - Run `git pull origin main` to sync with remote and ensure clean merge
   - If merge conflicts arise, STOP and report

3. Push local commits to remote:
   - Run `git push origin main`

4. Verify CI passes:
   - Run `gh run list --limit 1` to find the new CI run triggered by the push
   - Run `gh run watch` to monitor the CI run until completion
   - If CI fails, inspect with `gh run view <id> --log-failed` and report the failure

5. Confirm all three success criteria:
   - `git diff --check origin/main` shows zero conflict markers (CI-01)
   - CI elixir-tests job passed: mix compile --warnings-as-errors exits 0 (CI-02)
   - CI elixir-tests job passed: mix test --exclude skip --exclude smoke exits 0 (CI-03)
  </action>
  <verify>
- `git log --oneline origin/main..HEAD` returns empty (local and remote in sync)
- `gh run list --limit 1` shows latest run with status "completed" and conclusion "success"
  </verify>
  <done>
- Remote origin/main has zero conflict markers
- CI pipeline passes (both elixir-tests and sidecar-tests jobs green)
- Local main equals remote origin/main (0 commits ahead, 0 behind)
  </done>
</task>

</tasks>

<verification>
1. `git log --oneline origin/main..HEAD` is empty
2. `gh run list --limit 1` shows conclusion "success"
3. All Phase 37 requirements met: CI-01 (no conflict markers), CI-02 (compile clean), CI-03 (tests green)
</verification>

<success_criteria>
- Remote main has zero conflict markers
- `mix compile --warnings-as-errors` exits 0 in CI
- `mix test --exclude skip --exclude smoke` exits 0 in CI
- Local and remote main are synchronized
</success_criteria>

<output>
After completion, create `.planning/phases/37-ci-fix/37-01-SUMMARY.md`
</output>
